import com.rameses.annotations.*;
import com.rameses.util.*;
import java.rmi.server.*;
import com.rameses.services.extended.*;
import java.text.*;

public class RPTBillingService {

	@Service(value="OnlinePaymentService", connection="local-etracs")
	def service;
 
	@ProxyMethod
	public def getBilling(def params) {
		if(!params.refno) throw new Exception("Please indicate a billing refno");
		def pp = [txntype: 'rptcol', refno: params.refno, showdetails: true ];
		if( params.qtr ) pp.qtr = params.qtr;
		def bill = service.getBilling(  pp );
		if(!bill) throw new Exception("No record found for " + params.refno);
		return bill;
	}


}